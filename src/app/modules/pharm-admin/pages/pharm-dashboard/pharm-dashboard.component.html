<h1 class="title">Dashboard</h1>
<div class="chart_container">
  <div class="row">
    <div class="chart_section col">
      <h2 class="subtitle">Ventas</h2>
      <div class="chart_type">
        <mat-button-toggle-group
          class="buttons_configs"
          #chart_view="matButtonToggleGroup"
          value="line"
        >
          <mat-button-toggle
            value="line"
            aria-label="Text align left"
            matTooltip="Grafico de Linea"
          >
            <mat-icon>timeline</mat-icon>
          </mat-button-toggle>
          <mat-button-toggle
            value="bar"
            aria-label="Text align center"
            matTooltip="Grafico de Barra"
          >
            <mat-icon>bar_chart</mat-icon>
          </mat-button-toggle>
        </mat-button-toggle-group>
      </div>
      <div class="date_picker"></div>
      <canvas
        *ngIf="salesChartData"
        class="chart"
        height="90"
        baseChart
        [datasets]="salesChartData"
        [labels]="salesChartLabels"
        [options]="lineChartOptions"
        [colors]="lineChartColors"
        [legend]="lineChartLegend"
        [chartType]="chart_view.value"
        (chartHover)="chartHovered($event)"
        (chartClick)="chartClicked($event)"
      ></canvas>
    </div>
  </div>
  <div class="row">
    <div class="col-7">
      <div class="row">
        <div class="col">
          <mat-card>
            <div class="row">
              <div class="col-2">
                <mat-icon class="link__icon">shopping_cart</mat-icon>
              </div>
              <div class="col-8">
                <h3>Pedidos Pendientes</h3>
                <p class="p_value">200</p>
              </div>
            </div>
          </mat-card>
          <mat-card>
            <div class="row">
              <div class="col-2">
                <mat-icon class="link__icon2">redeem</mat-icon>
              </div>
              <div class="col-8">
                <h3>El producto mas Vendido</h3>
                <p class="p_value2">8.7% en Stock</p>
              </div>
            </div>
          </mat-card>
        </div>
        <div class="col">
          <mat-card>
            <div class="row">
              <div class="col-2">
                <mat-icon class="link__icon">attach_money</mat-icon>
              </div>
              <div class="col-8">
                <h3>Ganancias de Pedidos</h3>
                <p class="p_value">8122$ en Stock</p>
              </div>
            </div></mat-card
          >
          <mat-card>
            <div class="row">
              <div class="col-2">
                <mat-icon class="link__icon2">local_atm</mat-icon>
              </div>
              <div class="col-8">
                <h3>Ganancias de Ventas en Tienda</h3>
                <p class="p_value2">8.7% en Stock</p>
              </div>
            </div></mat-card
          >
        </div>
      </div>
      <div class="row">
        <div class="container">
          <h1 class="subtitle"><strong>Productos</strong></h1>
          <div class="sales_header">
            <mat-form-field class="formfarmacia2">
              <mat-label>Buscar</mat-label>
              <input
                matInput
                (keyup)="applyFilter($event)"
                placeholder="Nombre de Producto"
                #input
              />
            </mat-form-field>
            <mat-form-field appearance="fill" class="filtro">
              <mat-label class="titlefiltro">Tipo de Pedido</mat-label>
              <mat-select
                [(value)]="typeOrder"
                class="filter2"
                (selectionChange)="fecthOrders(3)"
              >
               
                <mat-option value="0">Todos</mat-option>
                <mat-option value="1">Ventas en Fisico</mat-option>
                <mat-option value="2">Pedidos on line</mat-option>
              </mat-select>
            </mat-form-field>
            <div class="table-container mat-elevation-z8">
              <div class="loading-shade" *ngIf="isLoadingResults || isRateLimitReached">
                <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
                <div class="rate-limit-reached" *ngIf="isRateLimitReached">
                  Es el limite de los datos
                </div>
              </div>
        
              <!-- Tabla de los pedidos -->
              <div class="adminlist">
                <table
                  mat-table
                  [dataSource]="dataSource"
                  class="mat-elevation-z8 formfarmaciatabla"
                  matSort
                >
                  <!-- Position Column -->
                  <ng-container matColumnDef="id_sale">
                    <th mat-header-cell *matHeaderCellDef>Nro.</th>
                    <td mat-cell *matCellDef="let order">
                      {{ order.productId }}
                      
                    </td>
                  </ng-container>
        
                  <!-- User Column -->
                  <ng-container matColumnDef="Product">
                    <th mat-header-cell *matHeaderCellDef>Producto</th>
                    <td mat-cell *matCellDef="let order">
                      <img src="assets/images/pastilla.png" width="30px" height="30px"/>
                      {{ order.name }}

                      
                    </td>
                  </ng-container>
        
                  <!-- Date Column -->
                  <ng-container matColumnDef="Gain">
                    <th mat-header-cell *matHeaderCellDef>Ganancia</th>
                    <td mat-cell *matCellDef="let order">
                      {{ order.total }}
                    </td>
                  </ng-container>
        
                  <!-- Cost Column -->
                  <ng-container matColumnDef="Stock">
                    <th mat-header-cell *matHeaderCellDef>Stock</th>
                    <td mat-cell *matCellDef="let order">
                      {{ order.stock }}
                    </td>
                  </ng-container>
        
                  <!-- Status Column -->
                  <ng-container matColumnDef="Quantity">
                    <th mat-header-cell *matHeaderCellDef>Cantidad de Productos</th>
                    <td mat-cell *matCellDef="let order">
                      {{ order.quantity }}
                    </td>
                  </ng-container>
        
                  <!-- Products Column -->
                  <ng-container matColumnDef="More">
                    <th mat-header-cell *matHeaderCellDef>Productos</th>
                    <td mat-cell *matCellDef="let order">
                      <button
                        class="action-button"
                        color="primary"
                        mat-mini-fab
                        (click)="productsView(order.products)"
                      >
                        <span><mat-icon>shopping_basket</mat-icon> </span>
                      </button>
                    </td>
                  </ng-container>
        
                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        
                  <!-- Row shown when there is no matching data. -->
                  <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="5">
                      No data matching the filter "{{ input.value }}"
                    </td>
                  </tr>
                </table>
              </div>
              <mat-paginator
                [length]="length"
                [pageSize]="size"
                (page)="refreshOrders($event)"
              ></mat-paginator>
            </div>
          </div>
        </div>
        
        
      
      </div>
    </div>
    <div class="chart_section col-5">
      <mat-card>
        <h2 class="subtitle">Productos</h2>
        <canvas
          baseChart
          class="chart"
          [data]="pieChartData"
          [labels]="pieChartLabels"
          [chartType]="pieChartType"
          [options]="pieChartOptions"
          [legend]="pieChartLegend"
        >
        </canvas>
      </mat-card>
    </div>
  </div>
</div>
